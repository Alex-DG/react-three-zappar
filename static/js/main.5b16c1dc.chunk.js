(this.webpackJsonpcra=this.webpackJsonpcra||[]).push([[0],{112:function(e,t,i){"use strict";i.r(t);var n,r,a=i(3),s=i.n(a),c=i(48),o=i.n(c),h=i(16),u=i(17),d="#61dafb",l="#20232a",f=u.b(n||(n=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n"]))),p=u.a(r||(r=Object(h.a)(["\n  html,\n  body,\n  #root {\n    margin: 0;\n    padding: 0;\n\n    ",";\n\n    font-family: Arial, Helvetica, Arial, sans-serif;\n  }\n\n  .app {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    ",";\n  }\n\n  .link {\n    font-size: bold;\n    color: ",";\n\n    :hover {\n      color: #000;\n    }\n  }\n"])),f,f,l),v=i(30),g=i(0),m=i(1),b=i(8),w=i(12),y=function(){function e(){Object(g.a)(this,e),this.experience=void 0,this.instance=void 0,this.experience=new T,this.setInstance()}return Object(m.a)(e,[{key:"setInstance",value:function(){this.instance=new b.Camera}},{key:"start",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.instance.start(e)}},{key:"update",value:function(){this.experience.renderer&&this.instance.updateFrame(this.experience.renderer.instance)}}]),e}(),k=function(){function e(){Object(g.a)(this,e),this.experience=void 0,this.instance=void 0,this.experience=new T,this.removeDomElement(),this.setInstance()}return Object(m.a)(e,[{key:"removeDomElement",value:function(){var e,t=document.querySelector("canvas");t&&(null===(e=document.getElementById("experience"))||void 0===e||e.removeChild(t))}},{key:"setInstance",value:function(){this.instance=new w.WebGLRenderer({antialias:!0}),this.instance.setSize(this.experience.config.width,this.experience.config.height),this.instance.setPixelRatio(this.experience.config.pixelRatio)}},{key:"resize",value:function(){this.instance.setSize(this.experience.config.width,this.experience.config.height),this.instance.setPixelRatio(this.experience.config.pixelRatio)}},{key:"update",value:function(){this.instance.render(this.experience.scene,this.experience.camera.instance)}}]),e}(),x=i.p+"static/media/faceMeshTemplate.7c10f762.png",j=function(){function e(){Object(g.a)(this,e),this.directionalLight=void 0,this.ambientLight=void 0,this.setLights()}return Object(m.a)(e,[{key:"setLights",value:function(){this.directionalLight=new w.DirectionalLight("white",.8),this.directionalLight.position.set(0,5,0),this.directionalLight.lookAt(0,0,0),this.ambientLight=new w.AmbientLight("white",.4)}}]),e}(),O=function(){function e(){Object(g.a)(this,e),this.experience=void 0,this.lights=void 0,this.faceMaterial=void 0,this.faceBufferGeometry=void 0,this.faceTrackerGroup=void 0,this.faceMeshMesh=void 0,this.experience=new T,this.setLights(),this.setFace(),this.setVisibility()}return Object(m.a)(e,[{key:"setLights",value:function(){this.lights=new j,this.experience.scene.add(this.lights.directionalLight,this.lights.ambientLight)}},{key:"setVisibility",value:function(){var e=this;this.faceTrackerGroup.faceTracker.onVisible.bind((function(){e.faceTrackerGroup.visible=!0})),this.faceTrackerGroup.faceTracker.onNotVisible.bind((function(){e.faceTrackerGroup.visible=!1}))}},{key:"setFace",value:function(){var e=new b.LoadingManager,t=new b.FaceTrackerLoader(e).load();this.faceTrackerGroup=new b.FaceAnchorGroup(this.experience.camera.instance,t),this.experience.scene.add(this.faceTrackerGroup);var i=new b.FaceMeshLoader(e).load();this.faceBufferGeometry=new b.FaceBufferGeometry(i);var n=new w.TextureLoader(e).load(x);n.flipY=!0,this.faceMaterial=new w.MeshStandardMaterial({map:n,transparent:!0}),this.faceMeshMesh=new w.Mesh(this.faceBufferGeometry,this.faceMaterial),this.faceTrackerGroup.add(this.faceMeshMesh)}},{key:"update",value:function(){this.faceBufferGeometry&&this.faceBufferGeometry.updateFromFaceAnchorGroup(this.faceTrackerGroup)}},{key:"destroy",value:function(){!!this.faceMaterial&&!!this.faceBufferGeometry&&!!this.lights&&!!this.experience.scene&&(this.faceMaterial.dispose(),this.faceBufferGeometry.dispose(),this.faceTrackerGroup.remove(this.faceMeshMesh),this.experience.scene.remove(this.lights.directionalLight,this.lights.ambientLight))}}]),e}(),L=function(){function e(){Object(g.a)(this,e),this.face=void 0,this.setFace()}return Object(m.a)(e,[{key:"setFace",value:function(){this.face=new O}},{key:"resize",value:function(){}},{key:"update",value:function(){this.face.update()}},{key:"destroy",value:function(){this.face.destroy()}}]),e}(),M=function(){function e(t){if(Object(g.a)(this,e),this.isRunning=!1,this.targetElement=void 0,this.config=void 0,this.scene=void 0,this.renderer=void 0,this.camera=void 0,this.world=void 0,b.browserIncompatible())throw b.browserIncompatibleUI(),new Error("Unsupported browser");if(e.instance)return e.instance;e.instance=this,this.targetElement=null===t||void 0===t?void 0:t.targetElement,this.targetElement?(this.setScene(),this.setCamera(),this.setConfig(),this.setRenderer(),this.setWorld(),this.setResize(),this.isRunning=!0,console.log("Starting experience..."),this.update()):console.warn("Missing 'targetElement' property")}return Object(m.a)(e,[{key:"setWorld",value:function(){this.world=new L}},{key:"setCamera",value:function(){this.camera=new y,this.camera.instance.start(!0),this.scene.background=this.camera.instance.backgroundTexture}},{key:"setConfig",value:function(){var e;this.config={pixelRatio:0,width:0,height:0},this.config.pixelRatio=Math.min(Math.max(window.devicePixelRatio,1),2);var t=null===(e=this.targetElement)||void 0===e?void 0:e.getBoundingClientRect();this.config.width=(null===t||void 0===t?void 0:t.width)||window.innerWidth,this.config.height=(null===t||void 0===t?void 0:t.height)||window.innerHeight}},{key:"setScene",value:function(){this.scene=new w.Scene}},{key:"setResize",value:function(){var e=this;window.addEventListener("resize",(function(){var t,i=null===(t=e.targetElement)||void 0===t?void 0:t.getBoundingClientRect();e.config.width=(null===i||void 0===i?void 0:i.width)||window.innerWidth,e.config.height=(null===i||void 0===i?void 0:i.height)||window.innerHeight,e.world.resize(),e.renderer.resize()}))}},{key:"setRenderer",value:function(){var e;this.renderer=new k,null===(e=this.targetElement)||void 0===e||e.appendChild(this.renderer.instance.domElement),b.glContextSet(this.renderer.instance.getContext())}},{key:"update",value:function(){var e,t,i;this.isRunning&&(null===(e=this.camera)||void 0===e||e.update(),null===(t=this.world)||void 0===t||t.update(),null===(i=this.renderer)||void 0===i||i.update(),requestAnimationFrame(this.update.bind(this)))}},{key:"destroy",value:function(){var e;this.stop(),null===(e=this.world)||void 0===e||e.destroy()}},{key:"stop",value:function(){this.isRunning=!1}}]),e}();M.instance=void 0;var R,G,T=M,E=u.c.div(R||(R=Object(h.a)(["\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n"]))),C=i(10),F=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)();return Object(a.useEffect)((function(){return t.current=new T({targetElement:e.current}),function(){var e;return null===(e=t.current)||void 0===e?void 0:e.stop()}}),[e]),Object(C.jsx)(E,{id:"experience",ref:e})},B=u.c.button(G||(G=Object(h.a)(["\n  /* Adapt the colors based on primary prop */\n  background: ",";\n  color: ",";\n\n  cursor: pointer;\n\n  :hover {\n    background: ",";\n    color: ",";\n  }\n\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid ",";\n  border-radius: 3px;\n"])),(function(e){return e.primary?d:"transparent"}),(function(e){return e.primary?"#fff":d}),(function(e){return e.primary?"transparent":d}),(function(e){return e.primary?d:"#fff"}),d),S=i(5),z=i.n(S),I=i(15),A=function(){var e=Object(I.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.permissionRequest();case 2:if(!e.sent){e.next=7;break}return e.abrupt("return",t(!0));case 7:b.permissionDeniedUI();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(a.useState)(!1),t=Object(v.a)(e,2),i=t[0],n=t[1];return i?Object(C.jsx)(F,{}):Object(C.jsxs)("div",{className:"app",children:[Object(C.jsx)(B,{onClick:function(){return A(n)},children:"Allow Camera"}),Object(C.jsx)("a",{href:"https://www.zappar.com/",target:"_blank",rel:"noreferrer",className:"link",children:"Zappar: Augmented, Virtual & Mixed Reality Solution"})]})},P=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,113)).then((function(t){var i=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;i(e),n(e),r(e),a(e),s(e)}))};o.a.render(Object(C.jsxs)(s.a.StrictMode,{children:[Object(C.jsx)(p,{}),Object(C.jsx)(D,{})]}),document.getElementById("root")),P()}},[[112,1,2]]]);
//# sourceMappingURL=main.5b16c1dc.chunk.js.map